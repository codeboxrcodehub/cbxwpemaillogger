import{_ as V,r as m,o as b,f as C,w as c,a as s,t as l,n as w,B as T,b as i,P as h,s as d,z as f,c as E,q as M,C as j,D as k,E as u,G as g,H as N,I as B,J as q,K as D,L as H,M as S,N as U,O as P}from"./vee-validate.js";import{W,d as Q,v as R,Q as z}from"./comfortsmtp-head.js";const A={name:"Testing Form",components:{WpHead:W},data(){return{comfortsmtp_vue_var,submitted:!1,form:{to:comfortsmtp_vue_var.site_email,cc:"",bcc:"",message:"Test Email Body Text",subject:"Test Email Subject"}}},methods:{async submit(){const{valid:r}=await this.$refs.form.validate();if(r){let o=new FormData;o.append("to",this.form.to),o.append("message",this.form.message),o.append("subject",this.form.subject),o.append("cc",this.form.cc),o.append("bcc",this.form.bcc),o.append("file",this.form.file),this.submitted=!0,await this.axios.post(this.comfortsmtp_vue_var.rest_end_points.testing_submit_url,o).then(n=>{n.data.success?this.successToast(n.data.info):this.errorToast(n.data.info)}).catch(n=>{this.errorMessage(n)}),this.submitted=!1}},onFileChange(r){const o=r.target;o&&o.files&&(this.form.file=o.files[0])}}},I={class:"inside"},G={class:"container"},J={id:"comfortsmtp_builder_actions",class:"cbx_builder_actions comfortsmtp_builder_actions comfortsmtpform_builder_actions"},K={class:"container"},L={class:"comfortsmtp_builder_actions_wrap"},O={class:"row"},X={class:"col-8 is-vertical-align"},Y={class:"col-4 is-right"},Z={class:"comfortsmtp_form container"},$={class:"mb-20 comfortsmtp-edit-main"},ss={class:"form-group mt-15"},os={for:"field_label"},ts={class:"form-group mt-15"},es={for:"field_label"},rs={class:"form-group mt-15"},ls={for:"field_label"},ns={class:"form-group mt-15"},is={for:"field_label"},as={class:"form-group mt-15"},ms={for:"field_label"},cs={class:"form-group mt-15"},us={class:"photo-upload-wrapper photo-upload-wrapper-smtp"},_s={class:"mb-10"},ds={class:"photo-upload-label"},fs={for:"file",class:"button primary outline form-label"},ps={key:0,class:"file-name"},vs={class:"ml-15 mr-15"},bs={class:"cbx-icon"},hs={class:"sr-only"};function gs(r,o,n,Cs,t,a){const p=m("Field"),v=m("ErrorMessage"),y=m("inline-svg"),F=m("Form",!0),x=m("wp-head");return b(),C(x,{heading:t.comfortsmtp_vue_var.translations.email_testing,"class-name":"comfortsmtp-page-form comfortsmtp-page-listing"},{default:c(()=>[s("div",I,[s("div",G,[s("div",J,[s("div",K,[s("div",L,[s("div",O,[s("div",X,[s("h2",null,l(t.comfortsmtp_vue_var.translations.email_testing),1)]),s("div",Y,[s("button",{class:w(["button primary ld-ext-right",t.submitted?"running":""]),onClick:o[0]||(o[0]=(...e)=>a.submit&&a.submit(...e))},[T(l(t.comfortsmtp_vue_var.translations.send)+" ",1),o[8]||(o[8]=s("span",{class:"ld ld-spin ld-ring"},null,-1))],2)])])])])]),i(F,{onSubmit:a.submit,ref:"form",enctype:"multipart/form-data"},{default:c(()=>[s("div",Z,[s("div",$,[s("div",ss,[s("label",os,l(t.comfortsmtp_vue_var.translations.to),1),i(p,{name:"to",rules:"required",modelValue:t.form.to,"onUpdate:modelValue":o[1]||(o[1]=e=>t.form.to=e)},{default:c(({field:e,errors:_})=>[s("input",h(e,{type:"text",class:["form-control",{error:!!_.length}]}),null,16)]),_:1},8,["modelValue"]),i(v,{name:"to",class:"invalid-feedback"})]),s("div",ts,[s("label",es,l(t.comfortsmtp_vue_var.translations.cc),1),d(s("input",{"onUpdate:modelValue":o[2]||(o[2]=e=>t.form.cc=e),type:"text",class:"form-control"},null,512),[[f,t.form.cc]])]),s("div",rs,[s("label",ls,l(t.comfortsmtp_vue_var.translations.bcc),1),d(s("input",{"onUpdate:modelValue":o[3]||(o[3]=e=>t.form.bcc=e),type:"text",class:"form-control"},null,512),[[f,t.form.bcc]])]),s("div",ns,[s("label",is,l(t.comfortsmtp_vue_var.translations.subject),1),i(p,{name:"subject",rules:"required",modelValue:t.form.subject,"onUpdate:modelValue":o[4]||(o[4]=e=>t.form.subject=e)},{default:c(({field:e,errors:_})=>[s("input",h(e,{type:"text",class:["form-control",{error:!!_.length}]}),null,16)]),_:1},8,["modelValue"]),i(v,{name:"subject",class:"invalid-feedback"})]),s("div",as,[s("label",ms,l(t.comfortsmtp_vue_var.translations.body),1),d(s("textarea",{"onUpdate:modelValue":o[5]||(o[5]=e=>t.form.message=e),class:"form-control"},null,512),[[f,t.form.message]])]),s("div",cs,[s("div",us,[s("label",_s,l(t.comfortsmtp_vue_var.translations.file),1),s("div",ds,[s("label",fs,l(t.comfortsmtp_vue_var.translations.upload),1),t.form.file?(b(),E("div",ps,[s("span",vs,l(t.form.file.name),1),s("button",{type:"button",class:"button error",onClick:o[6]||(o[6]=e=>{t.form.file=null})},[s("i",bs,[i(y,{src:t.comfortsmtp_vue_var.icons_url+"icon_close.svg"},null,8,["src"])]),s("span",hs,l(t.comfortsmtp_vue_var.translations.buttons.close.sr_label),1)])])):M("",!0)]),s("input",{id:"file",class:"form-control",type:"file",onChange:o[7]||(o[7]=(...e)=>a.onFileChange&&a.onFileChange(...e)),style:{display:"none"}},null,32)])])])])]),_:1},8,["onSubmit"])])])]),_:1},8,["heading"])}const ys=V(A,[["render",gs]]),Fs=j(),xs=k({history:Fs,routes:[{path:"/",component:ys}]});u("required",r=>!!r||"This field is required.");u("email",r=>/.+@.+\..+/.test(r)||"Must be a valid email.");u("minValue",(r,[o])=>parseFloat(r)>=parseFloat(o)||`The value must be at least ${o}.`);u("maxValue",(r,[o])=>parseFloat(r)<=parseFloat(o)||`The value must be no more than ${o}.`);g.defaults.headers.common["X-WP-Nonce"]=comfortsmtp_vue_var.rest_nonce;const Vs=N(P).use(Q).use(R({key:"$vfm",componentName:"VueFinalModal",dynamicContainerName:"ModalsContainer"})).use(B,g).use(q).use(xs).component("inline-svg",D).component("QuillEditor",z).component("Form",H).component("Field",S).component("ErrorMessage",U);Vs.mount("#comfortsmtp-email-testing");
