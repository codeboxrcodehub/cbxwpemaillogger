import{_ as w,r as k,o as i,c as r,a as t,t as n,b as y,F as c,d as m,n as v,s as x,v as C,q as d,C as A,D as M,E as h,G as f,H as V,I as E,J as H,K as N,O as q}from"./vee-validate.js";const B={components:{},data(){return{comfortsmtp_vue_var,option_array:comfortsmtp_vue_var.option_array,reset_options:{},show_option_table:!1,show_migration_data:!1}},methods:{checkAll(){this.option_array.forEach(l=>{this.reset_options[l.option_name]=!0})},uncheckAll(){this.option_array.forEach(l=>{this.reset_options[l.option_name]=!1})},async reset(){if(!Object.values(this.reset_options).some(_=>_)){this.errorToast(comfortsmtp_vue_var.translations.tools.please_select_one);return}let l=comfortsmtp_vue_var.rest_end_points.reset_option,s={reset_options:this.reset_options};await this.axios.post(l,s).then(_=>{_.data.success?this.successMessage(_.data.info):_.data.info&&this.errorMessage(_.data.info)})},async migrate(){let l=comfortsmtp_vue_var.rest_end_points.migrate_table;await this.axios.post(l,{}).then(s=>{s.data.success?(this.successMessage(s.data.info),window.location.reload(!0)):s.data.info&&this.errorMessage(s.data.info)})}}},D={class:"container"},T={class:"row"},F={class:"col-12 mb-20"},I={class:"wp-heading-wrap"},O={class:"wp-heading-wrap-left pull-left"},R={class:"wp-heading-inline wp-heading-inline-comfortsmtp"},S={class:"wp-heading-wrap-right pull-right"},U={class:"button_actions button_actions-global-menu"},W={class:"dropdown dropdown-menu ml-10"},j={class:"button outline primary icon icon-only"},z={class:"cbx-icon"},G={class:"card card-menu card-menu-right"},J={id:"dashboard_menus"},K=["href","title"],L={class:"container"},P={class:"row"},X={class:"col-12"},Q={class:"postbox"},Y={class:"inside setting-form-wrap"},Z={class:"reset-section"},$={class:"row"},tt={class:"col"},ot={class:"col"},st={key:0,id:"tools-section-content tools-section-content-reset"},et={class:"row"},nt={class:"col-12"},lt={class:"row"},it={class:"col-6"},rt={style:{"margin-bottom":"10px"},class:"grouped gapless grouped_buttons",id:"comfortsmtp_setting_options_check_actions"},at={class:"col-6"},_t={class:"widefat widethin comfortsmtp_table_data",id:"comfortsmtp_setting_options_table"},ct={class:"row-title"},ut={class:"row-title"},mt=["onUpdate:modelValue","id","value"],dt=["for"],pt={class:"row-title"},vt={class:"tools-section tools-section-migration"},ht={class:"row tools-section-header tools-section-header-migration"},ft={class:"col mb-0"},gt={class:"col mb-0"},bt={key:0,class:"tools-section-content tools-section-content-migration"},wt={class:"table table-bordered table-hover table-striped"},kt={class:"row"},yt={class:"col mb-0"};function xt(l,s,_,Vt,o,a){const g=k("inline-svg");return i(),r(c,null,[t("div",D,[t("div",T,[t("div",F,[t("div",I,[t("div",O,[t("h1",R,n(o.comfortsmtp_vue_var.translations.tools.heading),1)]),t("div",S,[t("div",U,[t("details",W,[t("summary",j,[t("i",z,[y(g,{src:o.comfortsmtp_vue_var.icons_url+"icon_more_v.svg"},null,8,["src"])]),s[6]||(s[6]=t("span",{class:"sr-only"},null,-1))]),t("div",G,[t("ul",J,[(i(!0),r(c,null,m(o.comfortsmtp_vue_var.dashboard_menus,e=>(i(),r("li",null,[t("a",{href:e.url,class:"button outline dashboard_menu dashboard_menu_",role:"button",title:e["title-attr"]},n(e.title),9,K)]))),256))])])])])])])])])]),t("div",L,[t("div",P,[t("div",X,[t("div",Q,[t("div",Y,[t("div",Z,[t("div",$,[t("div",tt,[t("h2",null,n(o.comfortsmtp_vue_var.translations.tools.reset_option_data),1)]),t("div",ot,[t("button",{class:"button secondary ml-20",onClick:s[0]||(s[0]=e=>o.show_option_table=!o.show_option_table)},n(o.comfortsmtp_vue_var.translations.tools.show_hide),1)])]),o.show_option_table?(i(),r("div",st,[t("div",et,[t("div",nt,[t("strong",null,n(o.comfortsmtp_vue_var.translations.tools.following_option_values),1)])]),t("div",lt,[t("div",it,[t("p",rt,[t("button",{class:"button primary comfortsmtp_setting_options_check_action_call",onClick:s[1]||(s[1]=(...e)=>a.checkAll&&a.checkAll(...e))},n(o.comfortsmtp_vue_var.translations.tools.check_all),1),t("button",{class:"button outline comfortsmtp_setting_options_check_action_ucall",onClick:s[2]||(s[2]=(...e)=>a.uncheckAll&&a.uncheckAll(...e))},n(o.comfortsmtp_vue_var.translations.tools.uncheck_all),1)])]),t("div",at,[t("button",{class:"button secondary ml-20 pull-right",onClick:s[3]||(s[3]=(...e)=>a.reset&&a.reset(...e))},n(o.comfortsmtp_vue_var.translations.tools.reset_data),1)])]),t("table",_t,[t("thead",null,[t("tr",null,[t("th",ct,n(o.comfortsmtp_vue_var.translations.tools.option_name),1),t("th",null,n(o.comfortsmtp_vue_var.translations.tools.option_id),1)])]),t("tbody",null,[(i(!0),r(c,null,m(o.option_array,(e,p)=>(i(),r("tr",{class:v(p%2==0?"alternate":"")},[t("td",ut,[x(t("input",{class:"magic-checkbox reset_options",type:"checkbox","onUpdate:modelValue":b=>o.reset_options[e.option_name]=b,id:"reset_options_"+e.option_id,value:e.option_name},null,8,mt),[[C,o.reset_options[e.option_name]]]),t("label",{for:"reset_options_"+e.option_id},n(e.option_name),9,dt)]),t("td",null,n(e.option_id),1)],2))),256))]),t("tfoot",null,[t("tr",null,[t("th",pt,n(o.comfortsmtp_vue_var.translations.tools.option_name),1),t("th",null,n(o.comfortsmtp_vue_var.translations.tools.option_id),1)])])])])):d("",!0)]),s[8]||(s[8]=t("hr",null,null,-1)),t("div",vt,[t("div",ht,[t("div",ft,[t("h2",null,n(o.comfortsmtp_vue_var.translations.tools.migration_files),1)]),t("div",gt,[t("button",{class:"button secondary ml-20",onClick:s[4]||(s[4]=e=>o.show_migration_data=!o.show_migration_data)},n(o.comfortsmtp_vue_var.translations.tools.show_hide),1)])]),o.show_migration_data?(i(),r("div",bt,[t("table",wt,[t("thead",null,[t("tr",null,[t("th",null,n(o.comfortsmtp_vue_var.translations.tools.migration_file_name),1),t("th",null,n(o.comfortsmtp_vue_var.translations.tools.status),1)])]),t("tbody",null,[(i(!0),r(c,null,m(o.comfortsmtp_vue_var.migration_files,(e,p)=>(i(),r("tr",null,[t("td",null,n(e),1),t("td",null,[t("span",{class:v(o.comfortsmtp_vue_var.migration_files_left.includes(e)?"text-error":"text-success")},n(o.comfortsmtp_vue_var.migration_files_left.includes(e)?o.comfortsmtp_vue_var.translations.tools.need_migrate:o.comfortsmtp_vue_var.translations.tools.done),3)])]))),256))]),t("tfoot",null,[t("tr",null,[t("th",null,n(o.comfortsmtp_vue_var.translations.tools.migration_file_name),1),t("th",null,n(o.comfortsmtp_vue_var.translations.tools.status),1)])])]),t("div",kt,[s[7]||(s[7]=t("div",{class:"col mb-0"},null,-1)),t("div",yt,[o.comfortsmtp_vue_var.migration_files_left.length?(i(),r("button",{key:0,class:"button success",onClick:s[5]||(s[5]=(...e)=>a.migrate&&a.migrate(...e))},n(o.comfortsmtp_vue_var.translations.tools.run_migration),1)):d("",!0)])])])):d("",!0)])])])])])])],64)}const Ct=w(B,[["render",xt]]),At=A(),Mt=M({history:At,routes:[{path:"/",component:Ct}]});h("required",l=>!!l||"This field is required.");h("email",l=>/.+@.+\..+/.test(l)||"Must be a valid email.");f.defaults.headers.common["X-WP-Nonce"]=comfortsmtp_vue_var.rest_nonce;const u=V(q);u.use(E,f);u.use(H);u.component("inline-svg",N);u.use(Mt).mount("#comfortsmtp-tools");
